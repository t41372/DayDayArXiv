(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4218:(e,t,a)=>{Promise.resolve().then(a.bind(a,5318))},5318:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var r=a(5155),s=a(2115),o=a(8638),n=a(2544),l=a(9540),c=a(2467),d=a(3101),i=a(2821),m=a(399),u=a(5889);function x(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,u.QP)((0,i.$)(t))}let h=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:n=!1,...l}=e,d=n?c.DX:"button";return(0,r.jsx)(d,{className:x(h({variant:s,size:o,className:a})),ref:t,...l})});b.displayName="Button";var g=a(6405),f=a(5229);let p=g.bL,y=g.l9;g.bm;let j=g.ZL,v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(g.hJ,{className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});v.displayName=g.hJ.displayName;let w=(0,d.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),N=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:o,...n}=e;return(0,r.jsxs)(j,{children:[(0,r.jsx)(v,{}),(0,r.jsxs)(g.UC,{ref:t,className:x(w({side:a}),s),...n,children:[o,(0,r.jsxs)(g.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=g.UC.displayName;let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(g.hE,{ref:t,className:x("text-lg font-semibold text-foreground",a),...s})});k.displayName=g.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(g.VY,{ref:t,className:x("text-sm text-muted-foreground",a),...s})}).displayName=g.VY.displayName;var C=a(368),S=a(7937),_=a(7691),D=a(3181),P=a(1962),E=a(7368),M=a(231),I=a(9894),A=a(8773),z=a(9089),F=a(5350),G=a(3146);function R(e){let{selectedDate:t,onDateChange:a,availableDates:l}=e,[c,d]=(0,s.useState)(t),i=(0,_.o)(new Date),m=(0,M.w)(c),u=(0,I.p)(c),h=(0,A.k)({start:m,end:u}),b=[...(0,A.k)({start:(0,z.k)(m,{weekStartsOn:1}),end:(0,D.a)(m,0)}).filter(e=>!(0,F.t)(e,m)),...h,...(0,A.k)({start:(0,P.P)(u,0),end:(0,G.$)(u,{weekStartsOn:1})}).filter(e=>!(0,F.t)(e,m))],g=[];for(let e=0;e<b.length;e+=7)g.push(b.slice(e,e+7));let f=(0,E.d)((0,M.w)((0,P.P)(c,1)),(0,M.w)(i));return(0,s.useEffect)(()=>{(0,F.t)(t,c)||d(t)},[c,t]),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("button",{onClick:()=>{d((0,D.a)(c,1))},className:"p-1 hover:bg-gray-100 rounded-full",children:(0,r.jsx)(C.A,{className:"h-5 w-5 text-[#45454a]"})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"font-medium",children:(0,n.GP)(c,"MMM yyyy")})}),(0,r.jsx)("button",{onClick:()=>{let e=(0,P.P)(c,1);(0,E.d)((0,M.w)(e),(0,M.w)(i))||d(e)},disabled:f,className:x("p-1 rounded-full",f?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 text-[#45454a]"),children:(0,r.jsx)(S.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["一","二","三","四","五","六","日"].map(e=>(0,r.jsx)("div",{className:"text-center text-sm text-[#797b86] py-1",children:e},e)),g.map((e,s)=>e.map((e,d)=>{let m=(0,F.t)(e,c),u=(0,o.r)(e,t),h=!(0,E.d)(e,i)&&(0===l.length||l.some(t=>(0,o.r)(t,e))),b=(0,E.d)(e,i),g=(0,o.r)(e,i);return(0,r.jsx)("button",{onClick:()=>h&&m?a(e):null,disabled:!h||!m||b,className:x("text-center py-1 text-sm rounded-full w-8 h-8 mx-auto flex items-center justify-center",!m&&"text-[#c9c9c9]",m&&b&&"text-[#c9c9c9] cursor-not-allowed",m&&!b&&!h&&"text-[#c9c9c9] cursor-not-allowed",m&&h&&!b&&!u&&"hover:bg-gray-100 cursor-pointer",u&&"bg-[#0e0e0f] text-white",g&&!u&&"ring-1 ring-inset ring-black"),children:(0,n.GP)(e,"d")},"".concat(s,"-").concat(d))}))]})]})}var X=a(856);function L(e){let{date:t,category:a,summary:s}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-black border-opacity-50",children:[(0,r.jsxs)("h2",{className:"text-xl font-medium mb-2",children:[(0,n.GP)(t,"yyyy年MM月dd日")," ",a," 论文速递"]}),(0,r.jsx)("div",{className:"text-[#45454a] prose prose-sm max-w-none",children:(0,r.jsx)(X.oz,{children:s})})]})}var O=a(5880);function U(e){var t;let{paper:a}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-2",children:a.title_zh}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-4 text-[#45454a]",children:a.title}),(0,r.jsx)("p",{className:"text-sm text-[#45454a] mb-4",children:a.authors.join(", ")}),(0,r.jsx)("div",{className:"text-[#45454a] prose prose-sm max-w-none mb-6",children:(0,r.jsx)(X.oz,{children:a.tldr_zh})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsxs)("span",{className:"bg-[#c00f0c] text-white px-3 py-1 rounded-md text-sm",children:["arXiv:",a.arxiv_id]}),a.categories.map((e,t)=>(0,r.jsx)("span",{className:"bg-[#0e0e0f] text-white px-3 py-1 rounded-md text-sm",children:e},t)),(0,r.jsx)("span",{className:"bg-[#0e0e0f] text-white px-3 py-1 rounded-md text-sm",children:a.published_date})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("a",{href:"https://arxiv.org/abs/".concat(a.arxiv_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[(0,r.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"arXiv"]}),(0,r.jsxs)("a",{href:"https://www.alphaxiv.org/abs/".concat(a.arxiv_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[(0,r.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"alphaXiv"]}),(0,r.jsxs)("a",{href:null!=(t=a.pdf_url)?t:"https://arxiv.org/pdf/".concat(a.arxiv_id,".pdf"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[(0,r.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}function T(e){let{selectedCategory:t,onCategoryChange:a}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"分类"}),(0,r.jsx)("div",{className:"space-y-2",children:["cs.AI","cs.CL","cs.CV","cs.LG","cs.RO"].map(e=>(0,r.jsx)("button",{onClick:()=>a(e),className:"w-full text-left px-3 py-2 rounded-md ".concat(t===e?"bg-[#0e0e0f] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]})}let V="dataCache",B="metaCache";function J(){return new Promise((e,t)=>{let a=indexedDB.open("daydayarxivCache",1);a.onerror=e=>{console.error("IndexedDB error:",e),t("Error opening IndexedDB")},a.onsuccess=t=>{e(t.target.result)},a.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(V)||t.createObjectStore(V),t.objectStoreNames.contains(B)||t.createObjectStore(B)}})}async function Y(e,t,a){try{let r=(await J()).transaction(V,"readwrite"),s=r.objectStore(V),o="".concat((0,n.GP)(e,"yyyy-MM-dd"),"/").concat(t),l={data:a,timestamp:Date.now()};return s.put(l,o),new Promise((e,t)=>{r.oncomplete=()=>e(),r.onerror=()=>t(Error("Error caching data"))})}catch(e){throw console.error("Cache error:",e),e}}async function $(e,t){try{let a=await J(),r=a.transaction(V,"readonly").objectStore(V),s="".concat((0,n.GP)(e,"yyyy-MM-dd"),"/").concat(t);return new Promise((e,t)=>{let o=r.get(s);o.onsuccess=()=>{let t=o.result;if(!t)return void e(null);if(Date.now()-t.timestamp>864e5){a.transaction(V,"readwrite").objectStore(V).delete(s),e(null);return}e(t.data)},o.onerror=()=>t(Error("Error retrieving cached data"))})}catch(e){return console.error("Cache retrieval error:",e),null}}async function q(e){try{let t=(await J()).transaction(B,"readwrite"),a=t.objectStore(B),r={index:e,lastUpdated:Date.now()};return a.put(r,"metadata"),new Promise((e,a)=>{t.oncomplete=()=>e(),t.onerror=()=>a(Error("Error caching metadata"))})}catch(e){throw console.error("Cache metadata error:",e),e}}async function H(){try{let e=(await J()).transaction(B,"readonly").objectStore(B);return new Promise((t,a)=>{let r=e.get("metadata");r.onsuccess=()=>{let e=r.result;if(!e||Date.now()-e.lastUpdated>864e5)return void t(null);t(e.index)},r.onerror=()=>a(Error("Error retrieving cached metadata"))})}catch(e){return console.error("Cache metadata retrieval error:",e),null}}async function Q(){try{let e=(await J()).transaction(V,"readwrite");return e.objectStore(V).openCursor().onsuccess=e=>{let t=e.target.result;if(t){let e=t.value;Date.now()-e.timestamp>864e5&&t.delete(),t.continue()}},new Promise(t=>{e.oncomplete=()=>t()})}catch(e){console.error("Error clearing expired cache:",e)}}async function Z(e,t){try{{let a=await $(e,t);if(a)return console.log("Using cached data for ".concat((0,n.GP)(e,"yyyy-MM-dd"),"/").concat(t)),a}let a=(0,n.GP)(e,"yyyy-MM-dd");console.log("Fetching data for ".concat(a,"/").concat(t," from network"));let r=await fetch("/data/".concat(a,"/").concat(t,".json"));if(!r.ok){if(404===r.status)return console.log("No data available for ".concat(a,"/").concat(t)),{date:a,category:t,summary:"No data available for ".concat(t," on ").concat(a,"."),papers:[],processing_status:"no_papers"};let e="Failed to load ".concat(a,"/").concat(t,": ").concat(r.status," ").concat(r.statusText);return console.error(e),{date:a,category:t,summary:"数据加载失败（".concat(r.status,"）"),papers:[],processing_status:"failed",error:e}}let s=await r.json();return await Y(e,t,s).catch(e=>console.error("Failed to cache data:",e)),s}catch(s){console.error("Failed to load data:",s);let a=(0,n.GP)(e,"yyyy-MM-dd"),r="Failed to load ".concat(a,"/").concat(t,": ").concat(s instanceof Error?s.message:String(s));return{date:a,category:t,summary:"数据加载失败",papers:[],processing_status:"failed",error:r}}}async function K(){try{{let e=await H();if(e)return console.log("Using cached available index"),e}let e=await fetch("/data/index.json",{cache:"no-store"});if(!e.ok)return console.error("No index.json available"),null;let t=await e.json();return await q(t).catch(e=>console.error("Failed to cache available index:",e)),t}catch(e){return console.error("Error in getAvailableIndex:",e),null}}async function W(e){let t=await K();return t?(e?t.available_dates.filter(a=>{var r;return null==(r=t.by_date[a])?void 0:r.includes(e)}):t.available_dates).map(e=>(0,m.qg)(e,"yyyy-MM-dd",new Date)):[]}function ee(){let e="#fffef7",[t,a]=(0,s.useState)(e),[o,n]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("background-color"),t=localStorage.getItem("background-image");e&&a(e),t&&n(t)},[]),(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"背景设置"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#45454a] mb-2",children:"背景颜色"}),(0,r.jsx)("input",{type:"color",value:t,onChange:e=>{let t=e.target.value;a(t),localStorage.setItem("background-color",t),document.body.style.backgroundColor=t,o||(document.body.style.backgroundImage="none")},className:"w-full h-10 rounded cursor-pointer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#45454a] mb-2",children:"背景图片"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){let e=new FileReader;e.onloadend=()=>{let t=e.result;n(t),localStorage.setItem("background-image",t),document.body.style.backgroundImage="url(".concat(t,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"},e.readAsDataURL(a)}},className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[o&&(0,r.jsx)("button",{onClick:()=>{n(""),localStorage.removeItem("background-image"),document.body.style.backgroundImage="none",document.body.style.backgroundColor=t},className:"px-3 py-2 text-sm text-[#45454a] bg-gray-100/80 rounded hover:bg-gray-200/80",children:"清除背景图片"}),(0,r.jsx)("button",{onClick:()=>{a(e),n(""),localStorage.removeItem("background-image"),localStorage.setItem("background-color",e),document.body.style.backgroundImage="none",document.body.style.backgroundColor=e},className:"px-3 py-2 text-sm text-[#45454a] bg-gray-100/80 rounded hover:bg-gray-200/80",children:"恢复默认设置"})]})]})]})}function et(){return(0,r.jsxs)("div",{className:"space-y-4 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"关于"}),(0,r.jsx)("div",{className:"flex items-center mb-4",children:(0,r.jsx)("a",{href:"https://github.com/t41372",children:(0,r.jsx)("img",{src:"https://simpleicons.org/icons/github.svg",alt:"GitHub",className:"h-6 w-6 mr-2"})})}),(0,r.jsxs)("p",{className:"text-sm text-[#45454a]",children:["这是一个 arXiv 快讯网站，提供arXiv 每日论文的介绍和总结。目标是让你像刷信息流一样，轻松的跟上最新的 arXiv 论文。",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"摘要与 TLDR 由 AI 自动生成，可能不准确，欢迎反馈。",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"目前仅支持 cs.AI 领域的论文，需要其他领域跟我说一声。",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"每日 UTC 00:20 更新。温馨提示: arXiv 假日不更新。 ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"欢迎赞助 LLM API，目前需要 rate limit 较高的 api... ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]}),(0,r.jsx)(ee,{})]})}function ea(){let[e,t]=(0,s.useState)(new Date),[a,c]=(0,s.useState)("cs.AI"),[d,i]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0),[x,h]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{u(!0);try{let t=await Z(e,a);i(t)}catch(e){console.error("Failed to load data:",e),i(null)}finally{u(!1)}})()},[e,a]),(0,s.useEffect)(()=>{let e=!0;return(async()=>{let t=await W(a);e&&h(t)})(),()=>{e=!1}},[a]),(0,s.useEffect)(()=>{if(0!==x.length&&!x.some(t=>(0,o.r)(t,e))){let e=[...x].sort((e,t)=>t.getTime()-e.getTime())[0];e&&t(e)}},[x,e]);let g=e=>{t(e)},f=e=>{c(e)};return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 border-b border-[#d9d9d9] py-4 px-6 flex justify-between items-center backdrop-blur-md bg-white/80",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"arx-lab.pages.dev"}),(0,r.jsxs)(p,{children:[(0,r.jsx)(y,{asChild:!0,children:(0,r.jsxs)(b,{variant:"ghost",size:"icon",className:"md:hidden",children:[(0,r.jsx)(l.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,r.jsxs)(N,{side:"left",className:"bg-[#fffef7] overflow-y-auto",children:[(0,r.jsx)(k,{children:"arXiv DayDay Menu"}),(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsx)(R,{selectedDate:e,onDateChange:g,availableDates:x}),(0,r.jsx)(T,{selectedCategory:a,onCategoryChange:f}),(0,r.jsx)(et,{})]})]})]})]}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-6 flex flex-col md:flex-row gap-6 mt-[72px]",children:[(0,r.jsxs)("aside",{className:"hidden md:block md:w-1/3 lg:w-1/4 space-y-6 h-[calc(100vh-5rem)] overflow-y-auto sticky top-20 pr-4 md:pr-2",children:[(0,r.jsx)(R,{selectedDate:e,onDateChange:g,availableDates:x}),(0,r.jsx)(T,{selectedCategory:a,onCategoryChange:f}),(0,r.jsx)(et,{})]}),(0,r.jsx)("div",{className:"md:w-2/3 lg:w-3/4 space-y-6",children:m?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})}):d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L,{date:e,category:a,summary:d.summary}),d.papers.map((e,t)=>(0,r.jsx)(U,{paper:e},e.arxiv_id||t))]}):(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm text-center",children:(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:["没有找到 ",(0,n.GP)(e,"yyyy-MM-dd")," 的 ",a," 数据"]})})})]})]})}(async function e(){try{await Q()}catch(e){console.error("Cache initialization error:",e)}})().catch(e=>console.error("Failed to initialize cache:",e))}},e=>{e.O(0,[37,441,255,358],()=>e(e.s=4218)),_N_E=e.O()}]);