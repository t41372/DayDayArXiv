(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4218:(e,t,a)=>{Promise.resolve().then(a.bind(a,5627))},5627:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var r=a(5155),s=a(2115),o=a(6874),n=a(4783),l=a(9708),c=a(2085),d=a(2596),i=a(9688);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,d.$)(t))}let u=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:n=!1,...c}=e,d=n?l.DX:"button";return(0,r.jsx)(d,{className:m(u({variant:s,size:o,className:a})),ref:t,...c})});x.displayName="Button";var h=a(6756),b=a(4416);let g=h.bL,f=h.l9;h.bm;let p=h.ZL,y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hJ,{className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});y.displayName=h.hJ.displayName;let j=(0,c.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:o,...n}=e;return(0,r.jsxs)(p,{children:[(0,r.jsx)(y,{}),(0,r.jsxs)(h.UC,{ref:t,className:m(j({side:a}),s),...n,children:[o,(0,r.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});v.displayName=h.UC.displayName;let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hE,{ref:t,className:m("text-lg font-semibold text-foreground",a),...s})});w.displayName=h.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.VY,{ref:t,className:m("text-sm text-muted-foreground",a),...s})}).displayName=h.VY.displayName;var N=a(2355),k=a(3052),C=a(644),S=a(7140),D=a(8039),P=a(3941),M=a(9164),_=a(4641),I=a(7860),z=a(9233),A=a(4548),E=a(3520),G=a(5119),F=a(9340);function R(e){let{selectedDate:t,onDateChange:a,availableDates:n}=e,[l,c]=(0,s.useState)(t),d=(0,C.o)(new Date),i=(0,M.w)(l),u=(0,_.p)(l),x=(0,I.k)({start:i,end:u});(0,z.P)(i);let h=[...(0,I.k)({start:(0,A.k)(i,{weekStartsOn:1}),end:(0,S.a)(i,0)}).filter(e=>!(0,E.t)(e,i)),...x,...(0,I.k)({start:(0,D.P)(u,0),end:(0,G.$)(u,{weekStartsOn:1})}).filter(e=>!(0,E.t)(e,i))],b=[];for(let e=0;e<h.length;e+=7)b.push(h.slice(e,e+7));let g=e=>!(0,P.d)(e,d)&&(0===n.length||n.some(t=>(0,F.r)(t,e))),f=(0,P.d)((0,M.w)((0,D.P)(l,1)),(0,M.w)(d));return(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("button",{onClick:()=>{c((0,S.a)(l,1))},className:"p-1 hover:bg-gray-100 rounded-full",children:(0,r.jsx)(N.A,{className:"h-5 w-5 text-[#45454a]"})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"font-medium",children:(0,o.GP)(l,"MMM yyyy")})}),(0,r.jsx)("button",{onClick:()=>{let e=(0,D.P)(l,1);(0,P.d)((0,M.w)(e),(0,M.w)(d))||c(e)},disabled:f,className:m("p-1 rounded-full",f?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 text-[#45454a]"),children:(0,r.jsx)(k.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["一","二","三","四","五","六","日"].map(e=>(0,r.jsx)("div",{className:"text-center text-sm text-[#797b86] py-1",children:e},e)),b.map((e,s)=>e.map((e,n)=>{let c=(0,E.t)(e,l),i=(0,F.r)(e,t),u=g(e),x=(0,P.d)(e,d);return(0,r.jsx)("button",{onClick:()=>u&&c?a(e):null,disabled:!u||!c||x,className:m("text-center py-1 text-sm rounded-full w-8 h-8 mx-auto flex items-center justify-center",!c&&"text-[#c9c9c9]",c&&x&&"text-[#c9c9c9] cursor-not-allowed",c&&!x&&!u&&"text-[#c9c9c9] cursor-not-allowed",c&&u&&!x&&!i&&"hover:bg-gray-100 cursor-pointer",i&&"bg-[#0e0e0f] text-white"),children:(0,o.GP)(e,"d")},"".concat(s,"-").concat(n))}))]})]})}var X=a(792);function O(e){let{date:t,category:a,summary:s}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-black border-opacity-50",children:[(0,r.jsxs)("h2",{className:"text-xl font-medium mb-2",children:[(0,o.GP)(t,"yyyy年MM月dd日")," ",a," 论文速递"]}),(0,r.jsx)("div",{className:"text-[#45454a] prose prose-sm max-w-none",children:(0,r.jsx)(X.oz,{children:s})})]})}var L=a(3786);function U(e){let{paper:t}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-2",children:t.title_zh}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-4 text-[#45454a]",children:t.title}),(0,r.jsx)("p",{className:"text-sm text-[#45454a] mb-4",children:t.authors.join(", ")}),(0,r.jsx)("p",{className:"text-[#45454a] mb-6 whitespace-pre-line",children:t.tldr_zh}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsxs)("span",{className:"bg-[#c00f0c] text-white px-3 py-1 rounded-md text-sm",children:["arXiv:",t.arxiv_id]}),t.categories.map((e,t)=>(0,r.jsx)("span",{className:"bg-[#0e0e0f] text-white px-3 py-1 rounded-md text-sm",children:e},t)),(0,r.jsx)("span",{className:"bg-[#0e0e0f] text-white px-3 py-1 rounded-md text-sm",children:t.published_date})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("a",{href:"https://arxiv.org/abs/".concat(t.arxiv_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[(0,r.jsx)(L.A,{className:"h-4 w-4 mr-1"}),"arXiv"]}),(0,r.jsxs)("a",{href:"https://arxiv.org/pdf/".concat(t.arxiv_id,".pdf"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[(0,r.jsx)(L.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}function V(e){let{selectedCategory:t,onCategoryChange:a}=e;return(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"分类"}),(0,r.jsx)("div",{className:"space-y-2",children:["cs.AI","cs.CL","cs.CV","cs.LG","cs.RO"].map(e=>(0,r.jsx)("button",{onClick:()=>a(e),className:"w-full text-left px-3 py-2 rounded-md ".concat(t===e?"bg-[#0e0e0f] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]})}let B="dataCache",J="metaCache";function T(){return new Promise((e,t)=>{let a=indexedDB.open("daydayarxivCache",1);a.onerror=e=>{console.error("IndexedDB error:",e),t("Error opening IndexedDB")},a.onsuccess=t=>{e(t.target.result)},a.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(B)||t.createObjectStore(B),t.objectStoreNames.contains(J)||t.createObjectStore(J)}})}async function Y(e,t,a){try{let r=(await T()).transaction(B,"readwrite"),s=r.objectStore(B),n="".concat((0,o.GP)(e,"yyyy-MM-dd"),"/").concat(t),l={data:a,timestamp:Date.now()};return s.put(l,n),new Promise((e,t)=>{r.oncomplete=()=>e(),r.onerror=()=>t(Error("Error caching data"))})}catch(e){throw console.error("Cache error:",e),e}}async function $(e,t){try{let a=await T(),r=a.transaction(B,"readonly").objectStore(B),s="".concat((0,o.GP)(e,"yyyy-MM-dd"),"/").concat(t);return new Promise((e,t)=>{let o=r.get(s);o.onsuccess=()=>{let t=o.result;if(!t){e(null);return}if(Date.now()-t.timestamp>6048e5){a.transaction(B,"readwrite").objectStore(B).delete(s),e(null);return}e(t.data)},o.onerror=()=>t(Error("Error retrieving cached data"))})}catch(e){return console.error("Cache retrieval error:",e),null}}async function H(){try{let e=(await T()).transaction(B,"readwrite");return e.objectStore(B).openCursor().onsuccess=e=>{let t=e.target.result;if(t){let e=t.value;Date.now()-e.timestamp>6048e5&&t.delete(),t.continue()}},new Promise(t=>{e.oncomplete=()=>t()})}catch(e){console.error("Error clearing expired cache:",e)}}async function Q(){try{await H()}catch(e){console.error("Cache initialization error:",e)}}async function Z(e,t){try{{let a=await $(e,t);if(a)return console.log("Using cached data for ".concat((0,o.GP)(e,"yyyy-MM-dd"),"/").concat(t)),a}let a=(0,o.GP)(e,"yyyy-MM-dd");console.log("Fetching data for ".concat(a,"/").concat(t," from network"));let r=await fetch("/data/".concat(a,"/").concat(t,".json"));if(!r.ok)return console.log("No data available for ".concat(a,"/").concat(t)),{date:a,category:t,summary:"No data available for ".concat(t," on ").concat(a,"."),papers:[]};let s=await r.json();return await Y(e,t,s).catch(e=>console.error("Failed to cache data:",e)),s}catch(r){console.log("No data for this date:",r);let a=(0,o.GP)(e,"yyyy-MM-dd");return{date:a,category:t,summary:"No data available for ".concat(t," on ").concat(a,"."),papers:[]}}}function q(){let e="#fffef7",[t,a]=(0,s.useState)(e),[o,n]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("background-color"),t=localStorage.getItem("background-image");e&&a(e),t&&n(t)},[]),(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"背景设置"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#45454a] mb-2",children:"背景颜色"}),(0,r.jsx)("input",{type:"color",value:t,onChange:e=>{let t=e.target.value;a(t),localStorage.setItem("background-color",t),document.body.style.backgroundColor=t,o||(document.body.style.backgroundImage="none")},className:"w-full h-10 rounded cursor-pointer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#45454a] mb-2",children:"背景图片"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){let e=new FileReader;e.onloadend=()=>{let t=e.result;n(t),localStorage.setItem("background-image",t),document.body.style.backgroundImage="url(".concat(t,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"},e.readAsDataURL(a)}},className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[o&&(0,r.jsx)("button",{onClick:()=>{n(""),localStorage.removeItem("background-image"),document.body.style.backgroundImage="none",document.body.style.backgroundColor=t},className:"px-3 py-2 text-sm text-[#45454a] bg-gray-100/80 rounded hover:bg-gray-200/80",children:"清除背景图片"}),(0,r.jsx)("button",{onClick:()=>{a(e),n(""),localStorage.removeItem("background-image"),localStorage.setItem("background-color",e),document.body.style.backgroundImage="none",document.body.style.backgroundColor=e},className:"px-3 py-2 text-sm text-[#45454a] bg-gray-100/80 rounded hover:bg-gray-200/80",children:"恢复默认设置"})]})]})]})}function K(){return(0,r.jsxs)("div",{className:"space-y-4 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-white/85 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-black border-opacity-50",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4",children:"关于"}),(0,r.jsx)("div",{className:"flex items-center mb-4",children:(0,r.jsx)("a",{href:"https://github.com/t41372",children:(0,r.jsx)("img",{src:"https://simpleicons.org/icons/github.svg",alt:"GitHub",className:"h-6 w-6 mr-2"})})}),(0,r.jsxs)("p",{className:"text-sm text-[#45454a]",children:["这是一个 arXiv 快讯网站，提供arXiv 每日论文的介绍和总结。目标是让你像刷信息流一样，轻松的跟上最新的 arXiv 论文。",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"摘要与 TLDR 由 AI 自动生成，可能不准确，欢迎反馈。",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"目前仅支持 cs.AI 领域的论文，需要其他领域跟我说一声。",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"每日 UTC 00:20 更新。温馨提示: arXiv 假日不更新。"]})]}),(0,r.jsx)(q,{})]})}function W(){let[e,t]=(0,s.useState)(new Date),[a,l]=(0,s.useState)("cs.AI"),[c,d]=(0,s.useState)(null),[i,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{m(!0);try{let t=await Z(e,a);d(t)}catch(e){console.error("Failed to load data:",e),d(null)}finally{m(!1)}})()},[e,a]);let u=e=>{t(e)},h=e=>{l(e)};return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 border-b border-[#d9d9d9] py-4 px-6 flex justify-between items-center backdrop-blur-md bg-white/80",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"arXivDayDay.com"}),(0,r.jsxs)(g,{children:[(0,r.jsx)(f,{asChild:!0,children:(0,r.jsxs)(x,{variant:"ghost",size:"icon",className:"md:hidden",children:[(0,r.jsx)(n.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,r.jsxs)(v,{side:"left",className:"bg-[#fffef7] overflow-y-auto",children:[(0,r.jsx)(w,{children:"arXiv DayDay Menu"}),(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsx)(R,{selectedDate:e,onDateChange:u,availableDates:[]}),(0,r.jsx)(V,{selectedCategory:a,onCategoryChange:h}),(0,r.jsx)(K,{})]})]})]})]}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-6 flex flex-col md:flex-row gap-6 mt-[72px]",children:[(0,r.jsxs)("aside",{className:"hidden md:block md:w-1/3 lg:w-1/4 space-y-6 h-[calc(100vh-5rem)] overflow-y-auto sticky top-20 pr-4 md:pr-2",children:[(0,r.jsx)(R,{selectedDate:e,onDateChange:u,availableDates:[]}),(0,r.jsx)(V,{selectedCategory:a,onCategoryChange:h}),(0,r.jsx)(K,{})]}),(0,r.jsx)("div",{className:"md:w-2/3 lg:w-3/4 space-y-6",children:i?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})}):c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{date:e,category:a,summary:c.summary}),c.papers.map((e,t)=>(0,r.jsx)(U,{paper:e},e.arxiv_id||t))]}):(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm text-center",children:(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:["没有找到 ",(0,o.GP)(e,"yyyy-MM-dd")," 的 ",a," 数据"]})})})]})]})}Q().catch(e=>console.error("Failed to initialize cache:",e))}},e=>{var t=t=>e(e.s=t);e.O(0,[654,441,684,358],()=>t(4218)),_N_E=e.O()}]);